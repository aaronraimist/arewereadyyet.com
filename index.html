<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Matrix 1.0-ready Federation</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      color: rgb(102, 102, 102);
    }
  </style>

</head>

<body>
  <!-- Page Content -->
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <img class="mt-3" style="width: 180px;" src="https://matrix.org/blog/wp-content/uploads/2015/01/logo1.png" />
        <h3>Matrix 1.0-ready Federation</h3>
        <div id="svg-dial"></div>
        <p>
            Of all servers visible from matrix.org, this is the percentage which have correct valid TLS certificates. As of Matrix 1.0, Matrix will not federate with Homeservers using self-signed certificates.
        </p>
        <p>
          <input type="text" id="txtHostname" />
          <button id="btnCheck">Check My Server!</button>
        </p>
        <p>
          Note that it's not necessary for this number to reach 100% before the launch of Matrix 1.0, but  after that time, any servers which do not have valid certificates will not be able to federate.
        </p>
        <p>
          Last Updated <span class="font-italic">2019-02-26T16:01:17.523Z</span>
        </p>
      </div>
    </div>
  </div>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>


  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.3.0/snap.svg-min.js"></script>
  <script type="text/javascript" src="svg-dial.min.js"></script>
  <script type="text/javascript">
    // // globals
    var dial = new SVGDial('#svg-dial', {
      ringBackgroundColor: ['#f44', '#84c535'],
      frameBackgroundColor: 'white',
      frameSize: 360,
      ringWidth: 35,
      fontSize: 100,
      //disabled: true
    });
    dial.setValue(0.1488776912505726);
    dial.config({disabled: true});

    $(document).ready(function() {
      $("#btnCheck").click(function() {
        window.location = "https://matrix.org/federationtester/#" + $("#txtHostname").val();
      });
      $("#txtHostname").bind('keypress', function(e) {
          if (e.keyCode === 13){
            $("#btnCheck").click();
          }
      });
    });
  </script>
</body>

</html>
